<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sist.mapper.member-mapper">
  <!-- 
  		1. 회원가입
  		2. 로그인
  		3. 아이디 중복체크
  		=================== 11/05 목표
  		4. 아이디 찾기
  		5. 비밀번호 찾기 ===== JavaMail
  		=================
  		6. 회원수정
  		7. 회원탈퇴
  		8. 비밀번호 변경
  		================= 마이페이지
  		9. 옵션 : 소셜로그인 : 자바스크립트 => Spring
   -->
  <!-- id 중복체크 -->
  <select id="memberIdCheck" resultType="int" parameterType="string">
    SELECT COUNT(*)
    FROM mvcMember
    WHERE id=#{id}
  </select>
  
  <!-- 회원가입 -->
  <insert id="memberInsert" parameterType="MemberVO">
    INSERT INTO mvcMember VALUES(
    	#{id},
    	#{pwd},
    	#{name},
    	#{sex},
    	#{birthday},
    	#{email},
    	#{post},
    	#{addr1},
    	#{addr2},
    	#{phone},
    	#{content},
    	'n',
    	SYSDATE
    )
  </insert>
  
  <!-- 로그인 -->
  <select id="memberInfoData" resultType="MemberVO" parameterType="string">
    SELECT id, name, sex, pwd, admin, post, addr1, addr2, phone
    FROM mvcMember
    WHERE id=#{id}
  </select>
</mapper>